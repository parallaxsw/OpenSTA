~/workspace/build$ # 1. Build CUDD (one-time setup)
cd /tmp
rm -rf cudd-3.0.0
wget https://github.com/ivmai/cudd/archive/refs/tags/cudd-3.0.0.tar.gz
tar -xzf cudd-3.0.0.tar.gz
cd cudd-3.0.0
./configure --prefix=/tmp/cudd-install --enable-silent-rules
make -j4 install

# 2. Clean rebuild OpenSTA with CUDD
cd /home/runner/workspace/build
rm -rf *
cmake -DCUDD_DIR=/tmp/cudd-install \
  -DCMAKE_BUILD_TYPE=RELEASE \
  -DTCL_LIBRARY=/nix/store/bqppwwi9g8nzbk0b6hq6fwkqnwd06y63-tcl-8.6.15/lib/libtcl8.6.so \
  -DTCL_HEADER=/nix/store/bqppwwi9g8nzbk0b6hq6fwkqnwd06y63-tcl-8.6.15/include/tcl.h \
  -DEigen3_DIR=/nix/store/gbqqdl9r1xvcydlaaybhr4mfk8qkqivn-eigen-3.4.0-unstable-2022-05-19/share/eigen3/cmake \
  -DZLIB_ROOT=/nix/store/0w4q8asq9sn56dl0sxp1m8gk4vy2ygs8-zlib-1.3.1-dev \
  -DFLEX_INCLUDE_DIR=/nix/store/cl3plks24gm9myzfa6j6zg7575jcmhfr-flex-2.6.4/include \
  ..
make -j4

# 3. Run complete test suite
./sta ../test/power_activity_dual_edge.tcl > test_output.txt
cat test_output.txt
--2025-11-24 00:06:54--  https://github.com/ivmai/cudd/archive/refs/tags/cudd-3.0.0.tar.gz
Resolving github.com (github.com)... 140.82.116.4
Connecting to github.com (github.com)|140.82.116.4|:443... connected.
HTTP request sent, awaiting response... 302 Found
Location: https://codeload.github.com/ivmai/cudd/tar.gz/refs/tags/cudd-3.0.0 [following]
--2025-11-24 00:06:54--  https://codeload.github.com/ivmai/cudd/tar.gz/refs/tags/cudd-3.0.0
Resolving codeload.github.com (codeload.github.com)... 140.82.116.9
Connecting to codeload.github.com (codeload.github.com)|140.82.116.9|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: unspecified [application/x-gzip]
Saving to: ‘cudd-3.0.0.tar.gz’

cudd-3.0.0.tar.gz              [ <=>                                    ]   1.12M  --.-KB/s    in 0.1s    

2025-11-24 00:06:54 (9.14 MB/s) - ‘cudd-3.0.0.tar.gz’ saved [1170745]

bash: cd: cudd-3.0.0: No such file or directory
bash: ./configure: No such file or directory
make: *** No rule to make target 'install'.  Stop.
-- The CXX compiler identification is GNU 14.2.1
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Check for working CXX compiler: /nix/store/a0d7m3zn9p2dfa1h7ag9h2wzzr2w25sn-gcc-wrapper-14.2.1.20250322/bin/c++ - skipped
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- STA version: 2.7.0
-- STA git sha: 2cb5dcc7c8a1912de7cb60d23b60bd9f9b6aaa3b
-- System name: Linux
-- Compiler: GNU 14.2.1
-- Build type: RELEASE
-- Build CXX_FLAGS: -O3 -DNDEBUG
-- Install prefix: /var/empty/local
-- Found FLEX: /nix/store/cl3plks24gm9myzfa6j6zg7575jcmhfr-flex-2.6.4/bin/flex (found version "2.6.4")
-- Found BISON: /nix/store/761dxvmkymfa4fhb2mqm10ggvcpd99kv-bison-3.8.2/bin/bison (found version "3.8.2")
-- TCL library: /nix/store/bqppwwi9g8nzbk0b6hq6fwkqnwd06y63-tcl-8.6.15/lib/libtcl8.6.so
-- TCL header: /nix/store/bqppwwi9g8nzbk0b6hq6fwkqnwd06y63-tcl-8.6.15/include/tcl.h
-- TCL readline library: NOT FOUND
-- TCL readline header: NOT FOUND
-- Could NOT find ZLIB (missing: ZLIB_LIBRARY) (found version "1.3.1")
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success
-- Found Threads: TRUE
-- CUDD library: not found
-- SSTA: 0
-- Found SWIG: /nix/store/6gc0jy1vvic0j4bavcs9blq5yybz09l6-swig-4.3.0/bin/swig (found suitable version "4.3.0", minimum required is "3.0")
-- STA library: /home/runner/workspace/build/libOpenSTA.a
-- STA executable: /home/runner/workspace/build/sta
-- Configuring done (1.2s)
CMake Error: The following variables are used in this project, but they are set to NOTFOUND.
Please set them or make sure they are set and tested correctly in the CMake files:
CUDD_LIB
    linked by target "OpenSTA" in directory /home/runner/workspace

-- Generating done (0.0s)
CMake Generate step failed.  Build files cannot be regenerated correctly.
[  0%] [BISON][VerilogParse] Building parser with bison 3.8.2
[  0%] [FLEX][LibExprLex] Building scanner with flex 2.6.4
[  1%] [BISON][LibExprParse] Building parser with bison 3.8.2
[  2%] Swig compile app/StaApp.i for tcl
[  2%] [FLEX][LibertyLex] Building scanner with flex 2.6.4
[  3%] [BISON][LibertyParse] Building parser with bison 3.8.2
[  4%] [FLEX][SaifLex] Building scanner with flex 2.6.4
[  4%] [BISON][SaifParse] Building parser with bison 3.8.2
[  5%] [FLEX][SdfLex] Building scanner with flex 2.6.4
[  6%] [BISON][SdfParse] Building parser with bison 3.8.2
[  6%] [FLEX][SpefLex] Building scanner with flex 2.6.4
[  7%] [BISON][SpefParse] Building parser with bison 3.8.2
[  7%] Generating StaTclInitVar.cc
[  8%] [FLEX][VerilogLex] Building scanner with flex 2.6.4
[  8%] Built target sta_swig_swig_compilation
[ 10%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/ArcDcalcWaveforms.cc.o
[ 10%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/ArnoldiDelayCalc.cc.o
[ 10%] Building CXX object CMakeFiles/OpenSTA.dir/app/StaMain.cc.o
[ 10%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/ArcDelayCalc.cc.o
[ 11%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/ArnoldiReduce.cc.o
[ 11%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/CcsCeffDelayCalc.cc.o
[ 12%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/DcalcAnalysisPt.cc.o
[ 12%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/DelayCalc.cc.o
[ 13%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/DelayCalcBase.cc.o
[ 13%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/DmpCeff.cc.o
[ 14%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/DmpDelayCalc.cc.o
[ 14%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/FindRoot.cc.o
[ 15%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/GraphDelayCalc.cc.o
[ 16%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/LumpedCapDelayCalc.cc.o
[ 16%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/NetCaps.cc.o
[ 17%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/ParallelDelayCalc.cc.o
[ 17%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/PrimaDelayCalc.cc.o
[ 18%] Building CXX object CMakeFiles/OpenSTA.dir/dcalc/UnitDelayCalc.cc.o
[ 18%] Building CXX object CMakeFiles/OpenSTA.dir/graph/DelayFloat.cc.o
[ 19%] Building CXX object CMakeFiles/OpenSTA.dir/graph/DelayNormal1.cc.o
[ 19%] Building CXX object CMakeFiles/OpenSTA.dir/graph/DelayNormal2.cc.o
[ 20%] Building CXX object CMakeFiles/OpenSTA.dir/graph/Graph.cc.o
[ 21%] Building CXX object CMakeFiles/OpenSTA.dir/graph/GraphCmp.cc.o
[ 21%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/EquivCells.cc.o
[ 22%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/FuncExpr.cc.o
[ 22%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/InternalPower.cc.o
[ 23%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LeakagePower.cc.o
[ 23%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/Liberty.cc.o
[ 24%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LibertyBuilder.cc.o
[ 25%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LibExprReader.cc.o
[ 25%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LibertyParser.cc.o
[ 26%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LibertyReader.cc.o
[ 26%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LibertyWriter.cc.o
[ 27%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/LinearModel.cc.o
[ 27%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/Sequential.cc.o
[ 28%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/TableModel.cc.o
[ 28%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/TimingArc.cc.o
[ 29%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/TimingModel.cc.o
[ 30%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/TimingRole.cc.o
[ 30%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/Units.cc.o
[ 31%] Building CXX object CMakeFiles/OpenSTA.dir/liberty/Wireload.cc.o
[ 31%] Building CXX object CMakeFiles/OpenSTA.dir/network/ConcreteLibrary.cc.o
[ 32%] Building CXX object CMakeFiles/OpenSTA.dir/network/ConcreteNetwork.cc.o
[ 32%] Building CXX object CMakeFiles/OpenSTA.dir/network/HpinDrvrLoad.cc.o
[ 33%] Building CXX object CMakeFiles/OpenSTA.dir/network/Network.cc.o
[ 33%] Building CXX object CMakeFiles/OpenSTA.dir/network/NetworkCmp.cc.o
[ 34%] Building CXX object CMakeFiles/OpenSTA.dir/network/ParseBus.cc.o
[ 35%] Building CXX object CMakeFiles/OpenSTA.dir/network/PortDirection.cc.o
[ 35%] Building CXX object CMakeFiles/OpenSTA.dir/network/SdcNetwork.cc.o
[ 36%] Building CXX object CMakeFiles/OpenSTA.dir/network/VerilogNamespace.cc.o
[ 36%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/ConcreteParasitics.cc.o
[ 37%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/EstimateParasitics.cc.o
[ 37%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/Parasitics.cc.o
[ 38%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/ReduceParasitics.cc.o
[ 38%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/ReportParasiticAnnotation.cc.o
[ 39%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/SpefNamespace.cc.o
[ 40%] Building CXX object CMakeFiles/OpenSTA.dir/parasitics/SpefReader.cc.o
[ 40%] Building CXX object CMakeFiles/OpenSTA.dir/power/Power.cc.o
/home/runner/workspace/power/Power.cc:30:10: fatal error: cudd.h: No such file or directory
   30 | #include "cudd.h"
      |          ^~~~~~~~
compilation terminated.
make[2]: *** [CMakeFiles/OpenSTA.dir/build.make:968: CMakeFiles/OpenSTA.dir/power/Power.cc.o] Error 1
make[2]: *** Waiting for unfinished jobs....
make[1]: *** [CMakeFiles/Makefile2:161: CMakeFiles/OpenSTA.dir/all] Error 2
make: *** [Makefile:136: all] Error 2
bash: ./sta: No such file or directory
~/workspace/build$ 